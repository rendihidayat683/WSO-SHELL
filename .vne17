# ==========================
# CLEAN UNIVERSAL HTACCESS (NO LSCACHE)
# ==========================

# Nonaktifkan directory listing
Options -Indexes
Options +FollowSymLinks

# Pastikan PHP aktif di semua file .php
AddHandler application/x-httpd-php .php

# Set file default (home page)
DirectoryIndex index.php index.html

# Header SEO dasar
<IfModule mod_headers.c>
  Header set X-Robots-Tag "index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
  Header unset X-Powered-By
</IfModule>

# ==========================
# REWRITE RULES
# ==========================
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /

# Hilangkan /index.php di URL
RewriteCond %{THE_REQUEST} \s/index\.php[\s?] [NC]
RewriteRule ^index\.php$ / [L,R=301]

# Jika file atau folder ada, langsung tampilkan
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Jika tidak ada file, arahkan ke index.php (WordPress route)
RewriteRule . /index.php [L]
</IfModule>

# ==========================
# CACHING DAN MIME TYPES
# ==========================
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType image/jpg "access plus 1 year"
  ExpiresByType image/jpeg "access plus 1 year"
  ExpiresB
